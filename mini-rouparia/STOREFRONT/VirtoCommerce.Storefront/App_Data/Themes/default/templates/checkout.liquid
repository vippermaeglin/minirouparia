<div ng-view=""></div>

<script id="storefront.checkout.shipping-address.tpl" type="text/ng-template">
    <form accept-charset="UTF8" class="step" name="formShippingAddress" novalidate="novalidate">
        <div class="edit_checkout animate-floating-labels" ng-init="setShippingAddressForm(formShippingAddress)">
            <div class="step__sections">
                <div class="section section--contact-information">
                    <div class="section__header">
                        <h2 class="section__title">Informações do comprador</h2>
                    </div>
                    <div class="section__content">
                        <div class="fieldset">
                            <div class="field field--required" ng-class="{ 'field--show-floating-label': !formShippingAddress.Email.$error.required, 'field--error': (formShippingAddress.Email.$dirty || formShippingAddress.$submitted) && formShippingAddress.Email.$invalid }">
                                <div class="field__input-wrapper">
                                    <label class="field__label" for="Email">Email</label>
                                    <input class="field__input" id="Email" name="Email" placeholder="Email" required="required" size="30" type="email" ng-model="checkout.email" ng-disabled="checkout.shippingAddressProcessing" />
                                </div>
                                <p class="field__message field__message--error" ng-if="(formShippingAddress.Email.$dirty || formShippingAddress.$submitted) && formShippingAddress.Email.$error.required">
                                  Favor informar o endereço de email
                                </p>
                                <p class="field__message field__message--error" ng-if="(formShippingAddress.Email.$dirty || formShippingAddress.$submitted) && formShippingAddress.Email.$error.email">
                                  Favor informar um email válido
                                </p>
                            </div>
                        </div>
                        <p class="section__content__text" ng-if="!customer.isRegisteredUser">
                            Já possui uma conta?
                            <a href="{{ 'account/login' | absolute_url }}">Entrar</a>
                        </p>
                    </div>
                </div>
                <div class="section section--shipping-address">
                    <div class="section__header">
                        <h2 class="section__title">Endereço de entrega</h2>
                    </div>
                    <div class="section__content">
                        <div class="fieldset">
                            <input id="Type" name="type" type="hidden" ng-model="checkout.shipment.deliveryAddress.type" />
                            <input id="Id" name="Id" type="hidden" ng-model="checkout.shipment.id" />
                            <div class="field field--optional field--show-floating-label" ng-if="customer.addresses.length">
                                <div class="field__input-wrapper field__input-wrapper--select">
                                    <label class="field__label" for="Addresses">Endereço do comprador</label>
                                    <select class="field__input field__input--select text-truncate" id="Addresses" name="Addresses" size="1" ng-model="checkout.selectedCustomerAddressId" ng-change="selectAddress('Shipping')" ng-disabled="checkout.shippingAddressProcessing">
                                        <option ng-repeat="address in checkout.customerAddresses" ng-value="address.id" ng-selected="checkout.selectedCustomerAddressId == address.id" ng-bind="address.stringifiedAddress"></option>
                                    </select>
                                </div>
                            </div>
                            <div class="field field--half field--required" ng-class="{ 'field--show-floating-label': checkout.shipment.deliveryAddress.firstName.length, 'field--error': (formShippingAddress.FirstName.$dirty || formShippingAddress.$submitted) && formShippingAddress.FirstName.$invalid }">
                                <div class="field__input-wrapper">
                                    <label class="field__label" for="FirstName">Nome</label>
                                    <input class="field__input" id="FirstName" name="FirstName" placeholder="Nome" required="required" size="30" type="text" ng-model="checkout.shipment.deliveryAddress.firstName" ng-disabled="checkout.shippingAddressProcessing" />
                                </div>
                                <p class="field__message field__message--error" ng-if="(formShippingAddress.FirstName.$dirty || formShippingAddress.$submitted) && formShippingAddress.FirstName.$error.required">
                                  Favor informar seu nome
                                </p>
                            </div>
                            <div class="field field--half field--required" ng-class="{ 'field--show-floating-label': checkout.shipment.deliveryAddress.lastName.length, 'field--error': (formShippingAddress.LastName.$dirty || formShippingAddress.$submitted) && formShippingAddress.LastName.$invalid }">
                                <div class="field__input-wrapper">
                                    <label class="field__label" for="LastName">Sobrenome</label>
                                    <input class="field__input" id="LastName" name="LastName" placeholder="Sobrenome" required="required" size="30" type="text" ng-model="checkout.shipment.deliveryAddress.lastName" ng-disabled="checkout.shippingAddressProcessing" />
                                </div>
                                <p class="field__message field__message--error" ng-if="(formShippingAddress.LastName.$dirty || formShippingAddress.$submitted) && formShippingAddress.LastName.$error.required">
                                    Favor informar seu sobrenome
                                </p>
                            </div>
                            <div class="field field--optional" ng-class="{ 'field--show-floating-label': checkout.shipment.deliveryAddress.organization.length }">
                                <div class="field__input-wrapper">
                                    <label class="field__label" for="Organization">Empresa (opcional)</label>
                                    <input class="field__input" id="Organization" name="Organization" placeholder="Empresa (opcional)" size="30" type="text" ng-model="checkout.shipment.deliveryAddress.organization" ng-disabled="checkout.shippingAddressProcessing" />
                                </div>
                            </div>
                            <div class="field field--two-thirds field--required" ng-class="{ 'field--show-floating-label': checkout.shipment.deliveryAddress.line1.length, 'field--error': (formShippingAddress.Line1.$dirty || formShippingAddress.$submitted) && formShippingAddress.Line1.$invalid }">
                                <div class="field__input-wrapper">
                                    <label class="field__label" for="Line1">Endereço (Rua, número)</label>
                                    <input class="field__input" id="Line1" name="Line1" placeholder="Endereço (Rua, número)" required="required" size="30" type="text" ng-model="checkout.shipment.deliveryAddress.line1" ng-disabled="checkout.shippingAddressProcessing" />
                                </div>
                                <p class="field__message field__message--error" ng-if="(formShippingAddress.Line1.$dirty || formShippingAddress.$submitted) && formShippingAddress.Line1.$error.required">
                                    Favor informar seu endereço (Rua, número)
                                </p>
                            </div>
                            <div class="field field--third field--optional" ng-class="{ 'field--show-floating-label': checkout.shipment.deliveryAddress.line2.length }">
                                <div class="field__input-wrapper">
                                    <label class="field__label" for="Line2">Complemento (opcional)</label>
                                    <input class="field__input" id="Line2" name="Line2" placeholder="Complemento (opcional)" size="30" type="text" ng-model="checkout.shipment.deliveryAddress.line2" ng-disabled="checkout.shippingAddressProcessing" />
                                </div>
                            </div>
                            <div class="field field--required" ng-class="{ 'field--show-floating-label': checkout.shipment.deliveryAddress.city.length, 'field--error': (formShippingAddress.City.$dirty || formShippingAddress.$submitted) && formShippingAddress.City.$invalid }">
                                <div class="field__input-wrapper">
                                    <label class="field__label" for="City">Cidade</label>
                                    <input class="field__input" id="City" name="City" placeholder="Cidade" required="required" size="30" type="text" ng-model="checkout.shipment.deliveryAddress.city" ng-disabled="checkout.shippingAddressProcessing" />
                                </div>
                                <p class="field__message field__message--error" ng-if="(formShippingAddress.City.$dirty || formShippingAddress.$submitted) && formShippingAddress.City.$error.required">
                                    Favor informar sua cidade
                                </p>
                            </div>
                            <div class="field field--required field--show-floating-label" ng-class="{ 'field--three-eights': checkout.shipment.deliveryAddress.countryName.length && checkout.countryRegions.length, 'field--half': !checkout.shipment.deliveryAddress.countryName.length || !checkout.countryRegions.length, 'field--error': formShippingAddress.$submitted && formShippingAddress.CountryName.$invalid }">
                                <div class="field__input-wrapper field__input-wrapper--select">
                                    <label class="field__label" for="CountryName">País</label>
                                    <select class="field__input field__input--select" if="CountryName" name="CountryName" required="required" size="1" ng-model="checkout.shipment.deliveryAddress.countryName" ng-change="setCountry('Shipping', checkout.shipment.deliveryAddress.countryName)" ng-disabled="checkout.shippingAddressProcessing">
                                        <option disabled="disabled" value="">Selecione o país</option>
                                        <option ng-repeat="country in checkout.countries" ng-value="country.name" ng-bind="country.name" ng-selected="country.name == checkout.shipment.deliveryAddress.countryName"></option>
                                    </select>
                                    <input id="CountryCode" name="CountryCode" type="hidden" ng-model="checkout.shipment.deliveryAddress.countryCode" />
                                </div>
                                <p class="field__message field__message--error" ng-if="formShippingAddress.$submitted && formShippingAddress.CountryName.$error.required">
                                    Favor informar seu país
                                </p>
                            </div>
                            <div class="field field--three-eights field--required field--show-floating-label" ng-if="checkout.countryRegions.length && checkout.shipment.deliveryAddress.countryName.length" ng-class="{ 'field--error': formShippingAddress.$submitted && formShippingAddress.RegionName.$invalid }">
                                <div class="field__input-wrapper field__input-wrapper--select">
                                    <label class="field__label" for="RegionName" ng-bind="checkout.selectedCountry.regionType"></label>
                                    <select class="field__input field__input--select" id="RegionName" name="RegionName" placeholder="{% raw %}{{ checkout.selectedCountry.regionType }}{% raw %}" required="required" size="1" ng-model="checkout.shipment.deliveryAddress.regionName" ng-change="setCountryRegion('Shipping', checkout.shipment.deliveryAddress.regionName)" ng-disabled="checkout.shippingAddressProcessing">
                                        <option disabled="disabled" value="" ng-bind="'Select ' + checkout.selectedCountry.regionType"></option>
                                        <option ng-repeat="countryRegion in checkout.countryRegions" ng-value="countryRegion.name" ng-bind="countryRegion.name" ng-selected="countryRegion.name == checkout.shipment.deliveryAddress.regionName"></option>
                                    </select>
                                    <input id="RegionId" name="RegionId" type="hidden" ng-model="checkout.shipment.deliveryAddress.regionId" />
                                </div>
                                <p class="field__message field__message--error" ng-if="formShippingAddress.$submitted && formShippingAddress.RegionName.$error.required" ng-bind="'Please select your ' + checkout.selectedCountry.regionType"></p>
                            </div>
                            <div class="field field--required" ng-class="{ 'field--half': !checkout.countryRegions.length || !checkout.shipment.deliveryAddress.countryName.length, 'field--quarter': checkout.countryRegions.length && checkout.shipment.deliveryAddress.countryName.length, 'field--show-floating-label': checkout.shipment.deliveryAddress.postalCode.length, 'field--error': (formShippingAddress.PostalCode.$dirty || formShippingAddress.$submitted) && formShippingAddress.PostalCode.$invalid }">
                                <div class="field__input-wrapper">
                                    <label class="field__label" for="PostalCode">CEP</label>
                                    <input class="field__input" id="PostalCode" name="PostalCode" placeholder="CEP" required="required" size="30" type="text" ng-model="checkout.shipment.deliveryAddress.postalCode" ng-disabled="checkout.shippingAddressProcessing" />
                                </div>
                                <p class="field__message field__message--error" ng-if="(formShippingAddress.PostalCode.$dirty || formShippingAddress.$submitted) && formShippingAddress.PostalCode.$error.required">
                                    Favor informar seu CEP
                                </p>
                            </div>
                            <div class="field field--optional" ng-class="{ 'field--show-floating-label': checkout.shipment.deliveryAddress.phone.length }">
                                <div class="field__input-wrapper">
                                    <label class="field__label" for="Phone">Telefone (opcional)</label>
                                    <input class="field__input" id="Phone" name="Phone" placeholder="Telefone (opcional)" size="30" type="text" ng-model="checkout.shipment.deliveryAddress.phone" ng-disabled="checkout.shippingAddressProcessing" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="step__footer">
                <button class="btn step__footer__continue-btn" type="button" ng-class="{ 'btn--loading': checkout.shippingAddressProcessing }" ng-click="submitShippingAddress()" ng-disabled="checkout.shippingAddressProcessing">
                    <span class="btn__content">Continuar para modo de entrega</span>
                    <i class="btn__spinner icon icon--button-spinner"></i>
                </button>
                <a class="step__footer__previous-link" href="" ng-click="outerRedirect(baseUrl + 'cart')">
                    <svg class="previous-link__icon icon--chevron icon" height="11.3" width="6.7" viewBox="0 0 6.7 11.3" xmlns="http://www.w3.org/2000/svg">
                        <path d="M 6.7 1.1 l -1 -1.1 l -4.6 4.6 l -1.1 1.1 l 1.1 1 l 4.6 4.6 l 1 -1 l -4.6 -4.6 Z"></path>
                    </svg>
                    Retornar para carrinho
                </a>
            </div>
        </div>
    </form>
</script>

<script id="storefront.checkout.shipping-method.tpl" type="text/ng-template" ng-cloak>
    <form accept-charset="UTF8" class="step" name="formShippingMethod" novalidate="novalidate">
        <div class="edit_checkout animate-floating-labels" ng-init="setShippingMethodForm(formShippingMethod)">
            <div class="step__sections">
                <div class="section section--shipping-address-recap">
                    <div class="section__header">
                        <h2 class="section__title">Endereço de entrega</h2>
                    </div>
                    <div class="section__content">
                        <p>
                            <span ng-bind="checkout.shipment.deliveryAddress.firstName"></span> <span ng-bind="checkout.shipment.deliveryAddress.lastName"></span><br />
                            <span ng-bind="checkout.shipment.deliveryAddress.line1"></span><span ng-if="checkout.shipment.deliveryAddress.line2" ng-bind="', ' + checkout.shipment.deliveryAddress.line2"></span><br />
                            <span ng-bind="checkout.shipment.deliveryAddress.city"></span><span ng-if="checkout.shipment.deliveryAddress.regionName" ng-bind="', ' + checkout.shipment.deliveryAddress.regionName"></span>, <span ng-bind="checkout.shipment.deliveryAddress.postalCode"></span><br />
                            <span ng-bind="checkout.shipment.deliveryAddress.countryName"></span><br ng-if="checkout.shipment.deliveryAddress.phone" />
                            <span ng-if="checkout.shipment.deliveryAddress.phone" ng-bind="checkout.shipment.deliveryAddress.phone"></span>
                            <a class="edit-link edit-link--small" href="" ng-click="innerRedirect('shipping-address')">Editar endereço de entrega</a>
                        </p>
                    </div>
                </div>
                <div class="section section--shipping-method">
                    <div class="section__header">
                        <h2 class="section__title">Tipo de frete</h2>
                    </div>
                    <div class="section__content">
                        <div ng-if="checkout.shipment.validationWarnings.length">
                            <div class="alert alert-error" ng-if="checkout.shipment.validationWarnings[0].errorCode == 'ShippingUnavailableError'">
                              Não há opção de frete para o endereço informado e/ou itens selecionados!
                            </div>
                        </div>
                        <div class="content-box" ng-repeat="availableShippingMethod in checkout.availableShippingMethods" ng-if="!checkout.shipment.validationWarnings.length">
                            <div class="content-box__row">
                                <div class="radio-wrapper">
                                    <div class="radio__input">
                                        <input class="input-radio" id="{% raw %}{{ availableShippingMethod.shipmentMethodCode }}{% endraw %}" name="ShipmentMethodCode" type="radio" ng-model="checkout.shipment.shipmentMethodCode" ng-required="true" ng-change="setShippingMethod()" ng-value="availableShippingMethod.shipmentMethodCode" ng-disabled="checkout.shippingMethodProcessing" />
                                    </div>
                                    <label class="radio__label" for="{% raw %}{{ availableShippingMethod.shipmentMethodCode }}{% endraw %}" ng-bind="availableShippingMethod.name"></label>
                                    <span class="radio__accessory content-box__emphasis" ng-bind="availableShippingMethod.price.formatedAmount"></span>
                                </div>
                            </div>
                        </div>
                        <div class="alert alert-error" style="margin-top: 20px;" ng-if="formShippingMethod.$submitted && formShippingMethod.ShipmentMethodCode.$error.required">
                            Favor selecionar o tipo de frete
                        </div>
                    </div>
                </div>
            </div>
            <div class="step__footer">
                <button class="step__footer__continue-btn btn" name="button" type="button" ng-class="{ 'btn--disabled': !checkout.availableShippingMethods.length, 'btn--loading': checkout.shippingMethodProcessing }" ng-click="submitShippingMethod()" ng-disabled="!checkout.availableShippingMethods.length || checkout.shippingMethodProcessing">
                    <span class="btn__content">Continuar para modos de pagamento</span>
                    <i class="btn__spinner icon icon--button-spinner"></i>
                </button>
                <a class="step__footer__previous-link" href="" ng-click="innerRedirect('shipping-address')">
                    <svg class="previous-link__icon icon--chevron icon" height="11.3" width="6.7" viewBox="0 0 6.7 11.3" xmlns="http://www.w3.org/2000/svg">
                        <path d="M 6.7 1.1 l -1 -1.1 l -4.6 4.6 l -1.1 1.1 l 1.1 1 l 4.6 4.6 l 1 -1 l -4.6 -4.6 Z"></path>
                    </svg>
                    Retornar para endereço de entrega
                </a>
            </div>
        </div>
    </form>
</script>

<script id="storefront.checkout.payment-method.tpl" type="text/ng-template">
    <form accept-charset="UTF8" class="step" name="formPaymentMethod" novalidate="novalidate">
        <div class="edit_checkout animate-floating-labels" ng-init="setPaymentMethodForm(formPaymentMethod)">
            <div class="step__sections">
                <div class="section section--contact-information">
                    <div class="section__header">
                        <h2 class="section__title">Informações do comprador</h2>
                    </div>
                    <div class="section__content">
                        <div class="fieldset">
                            <div class="field field--required" ng-class="{ 'field--show-floating-label': !formPaymentMethod.Email.$error.required, 'field--error': (formPaymentMethod.Email.$dirty || formPaymentMethod.$submitted) && formPaymentMethod.Email.$invalid }">
                                <div class="field__input-wrapper">
                                    <label class="field__label" for="Email">Email</label>
                                    <input class="field__input" id="Email" name="Email" placeholder="Email" required="required" size="30" type="email" ng-model="checkout.email" ng-disabled="checkout.orderProcessing" />
                                </div>
                                <p class="field__message field__message--error" ng-if="(formPaymentMethod.Email.$dirty || formPaymentMethod.$submitted) && formPaymentMethod.Email.$error.required">
                                    Favor informar seu endereço de email
                                </p>
                                <p class="field__message field__message--error" ng-if="(formPaymentMethod.Email.$dirty || formPaymentMethod.$submitted) && formPaymentMethod.Email.$error.email">
                                    Favor informar um email válido
                                </p>
                            </div>
                        </div>
                        <p class="section__content__text" ng-if="!customer.isRegisteredUser">
                            Já possui uma conta?
                            <a href="{{ 'account/login' | absolute_url }}">Entrar</a>
                        </p>
                    </div>
                </div>
                <div class="section section--payment-method">
                    <div class="section__header">
                        <h2 class="section__title">Forma de pagamento</h2>
                        <p class="section__text">Todas as transições são seguras e criptografadas, suas informações bancárias nunca ficam salvas.</p>
                    </div>
                    <div class="section__content">
                        <div class="content-box" ng-repeat="availablePaymentMethod in checkout.availablePaymentMethods">
                            <div class="radio-wrapper content-box__row">
                                <div class="radio__input">
                                    <input class="input-radio" id="{% raw %}{{ availablePaymentMethod.gatewayCode }}{% endraw %}" name="PaymentMethodCode" type="radio" ng-model="checkout.payment.paymentGatewayCode" ng-required="true" ng-value="availablePaymentMethod.gatewayCode" ng-disabled="checkout.orderProcessing" />
                                </div>
                                <label class="radio__label" for="{% raw %}{{ availablePaymentMethod.gatewayCode }}{% endraw %}" ng-bind="availablePaymentMethod.name"></label>
                            </div>
                            <div class="radio-wrapper content-box__row content-box__row--secondary" ng-if="availablePaymentMethod.type == 'Standard' && checkout.payment.paymentGatewayCode == availablePaymentMethod.gatewayCode">
                                <div class="fieldset">
                                    <div class="field field--required" ng-class="{ 'field--show-floating-label': !formPaymentMethod.BankCardNumber.$error.required, 'field--error': (formPaymentMethod.BankCardNumber.$dirty || formPaymentMethod.$submitted) && formPaymentMethod.BankCardNumber.$invalid }">
                                        <div class="field__input-wrapper">
                                            <label class="field__label" for="BankCardNumber">Número do cartão</label>
                                            <input class="field__input" id="BankCardNumber" name="BankCardNumber" placeholder="Número do cartão" required="required" size="30" type="text" ng-model="checkout.bankCardInfo.cardNumber" ng-pattern="checkout.bankCardInfo.cardNumberPattern" ng-change="validateBankCardNumber()" ng-disabled="checkout.orderProcessing" />
                                            <span class="field__icon icon icon--lock">
                                                <span class="visually-hidden">Campo seguro</span>
                                            </span>
                                            <span class="field__icon icon payment-icon has-tooltip" style="right: 40px; top: 23%;" ng-class="{
                                                'payment-icon--american-express': checkout.bankCardInfo.type == 'AmericanExpress',
                                                'payment-icon--dankort': checkout.bankCardInfo.type == 'Dankort',
                                                'payment-icon--diners-club': checkout.bankCardInfo.type == 'Diners',
                                                'payment-icon--discover': checkout.bankCardInfo.type == 'Discover',
                                                'payment-icon--jcb': checkout.bankCardInfo.type == 'Jcb',
                                                'payment-icon--laser': checkout.bankCardInfo.type == 'Laser',
                                                'payment-icon--maestro': checkout.bankCardInfo.type == 'Maestro',
                                                'payment-icon--master': checkout.bankCardInfo.type == 'MasterCard',
                                                'payment-icon--unionpay': checkout.bankCardInfo.type == 'UnionPay',
                                                'payment-icon--visa': checkout.bankCardInfo.type == 'Visa' }" ng-if="formPaymentMethod.BankCardNumber.$valid">
                                                <span class="tooltip" ng-bind="checkout.bankCardInfo.type"></span>
                                                <span class="visually-hidden" ng-bind="checkout.bankCardInfo.type"></span>
                                            </span>
                                        </div>
                                        <p class="field__message field__message--error" ng-if="(formPaymentMethod.BankCardNumber.$dirty || formPaymentMethod.$submitted) && formPaymentMethod.BankCardNumber.$error.required">
                                            Favor informar o número do seu cartão
                                        </p>
                                        <p class="field__message field__message--error" ng-if="(formPaymentMethod.BankCardNumber.$dirty || formPaymentMethod.$submitted) && formPaymentMethod.BankCardNumber.$error.pattern">
                                            Favor informar um  número válido
                                        </p>
                                    </div>
                                    <div class="field field--half field--required" ng-class="{ 'field--show-floating-label': checkout.bankCardInfo.cardholderName.length, 'field--error': (formPaymentMethod.BankCardCardholderName.$dirty || formPaymentMethod.$submitted) && formPaymentMethod.BankCardCardholderName.$invalid }">
                                        <div class="field__input-wrapper">
                                            <label class="field__label" for="BankCardCardholderName">Cardholder name</label>
                                            <input class="field__input" id="BankCardCardholderName" name="BankCardCardholderName" placeholder="Banco" required="required" size="30" type="text" ng-model="checkout.bankCardInfo.cardholderName" ng-change="capitalizeCardholderName()" ng-disabled="checkout.orderProcessing" />
                                        </div>
                                        <p class="field__message field__message--error" ng-if="(formPaymentMethod.BankCardCardholderName.$dirty || formPaymentMethod.$submitted) && formPaymentMethod.BankCardCardholderName.$error.required">
                                            Favor informar um banco válido
                                        </p>
                                    </div>
                                    <div class="field field--quarter field--required" ng-class="{ 'field--show-floating-label': !formPaymentMethod.BankCardExpirationDate.$error.required, 'field--error': (formPaymentMethod.BankCardExpirationDate.$dirty || formPaymentMethod.$submitted) && formPaymentMethod.BankCardExpirationDate.$invalid }">
                                        <div class="field__input-wrapper">
                                            <label class="field__label" for="BankCardExpirationDate">MM / YY</label>
                                            <input class="field__input" id="BankCardExpirationDate" name="BankCardExpirationDate" placeholder="MM / AA" required="required" size="30" type="text" ng-model="checkout.bankCardInfo.expirationDate" ng-pattern="/(0[1-9]|1[0-2])\s\/\s[0-9]{2}/" ng-change="validateBankCardExpirationDate()" ng-disabled="checkout.orderProcessing" />
                                        </div>
                                        <p class="field__message field__message--error" ng-if="(formPaymentMethod.BankCardExpirationDate.$dirty || formPaymentMethod.$submitted) && formPaymentMethod.BankCardExpirationDate.$error.required">
                                            Favor informar a data de validade
                                        </p>
                                        <p class="field__message field__message--error" ng-if="(formPaymentMethod.BankCardExpirationDate.$dirty || formPaymentMethod.$submitted) && formPaymentMethod.BankCardExpirationDate.$error.pattern">
                                            Favor informar a data de validade apenas com números no formato MM/AA (ex agosto/2016 = 08/16)
                                        </p>
                                        <p class="field__message field__message--error" ng-if="(formPaymentMethod.BankCardExpirationDate.$dirty || formPaymentMethod.$submitted) && checkout.bankCardInfo.isExpired">
                                            O cartão venceu a data de validade
                                        </p>
                                    </div>
                                    <div class="field field--quarter field--required" ng-class="{ 'field--show-floating-label': !formPaymentMethod.BankCardCvv.$error.required, 'field--error': (formPaymentMethod.BankCardCvv.$dirty || formPaymentMethod.$submitted) && formPaymentMethod.BankCardCvv.$invalid }">
                                        <div class="field__input-wrapper">
                                            <label class="field__label" for="BankCardCvv">Código Verificação</label>
                                            <input class="field__input" id="BankCardCvv" name="BankCardCvv" placeholder="Código de segurança" required="required" size="30" type="text" ng-model="checkout.bankCardInfo.cvv" ng-pattern="checkout.bankCardInfo.cvvPattern" ng-disabled="checkout.orderProcessing" />
                                            <span class="field__icon icon icon--question has-tooltip">
                                                <span class="tooltip">
                                                    Código de segurança impresso no verso do cartão, normalmente possui 3 dígitos.
                                                </span>
                                            </span>
                                        </div>
                                        <p class="field__message field__message--error" ng-if="(formPaymentMethod.BankCardCvv.$dirty || formPaymentMethod.$submitted) && formPaymentMethod.BankCardCvv.$error.required">
                                            Favor informar o código de verificação
                                        </p>
                                        <p class="field__message field__message--error" ng-if="(formPaymentMethod.BankCardCvv.$dirty || formPaymentMethod.$submitted) && formPaymentMethod.BankCardCvv.$error.pattern">
                                            Favor informar o código correto
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="alert alert-error" style="margin-top: 20px;" ng-if="formPaymentMethod.$submitted && formPaymentMethod.PaymentMethodCode.$error.required">
                            Favor informar o meio de pagamento
                        </div>
                    </div>
                </div>
                <div class="section section--billing-address">
                    <div class="section__header">
                        <h2 class="section__title">Endereço do pagamento</h2>
                    </div>
                    <div class="section__content">
                        <div class="content-box">
                            <div class="checkbox-wrapper content-box__row" ng-if="checkout.hasPhysicalProducts">
                                <div class="checkbox__input">
                                    <input class="input-checkbox" id="BillingAddressEqualsShipping" name="BillingAddressEqualsShipping" type="checkbox" ng-model="checkout.billingAddressEqualsShipping" ng-change="setBillingAddressEqualShipping()" ng-disabled="checkout.orderProcessing" />
                                </div>
                                <label class="checkbox__label" for="BillingAddressEqualsShipping">Endereço do pagamento é o mesmo do frete</label>
                            </div>
                            <div class="radio-group__row content-box__row content-box__row--secondary" ng-if="!checkout.hasPhysicalProducts || checkout.hasPhysicalProducts && !checkout.billingAddressEqualsShipping">
                                <div class="fieldset">
                                    <input id="Type" name="type" type="hidden" ng-model="checkout.payment.billingAddress.type" />
                                    <input id="Id" name="Id" type="hidden" ng-model="checkout.payment.id" />
                                    <div class="field field--optional field--show-floating-label" ng-if="customer.addresses.length">
                                        <div class="field__input-wrapper field__input-wrapper--select">
                                            <label class="field__label" for="Addresses">Endereço do comprador</label>
                                            <select class="field__input field__input--select text-truncate" id="Addresses" name="Addresses" size="1" ng-model="checkout.selectedCustomerAddressId" ng-change="selectAddress('Billing')" ng-disabled="checkout.orderProcessing">
                                                <option ng-repeat="address in checkout.customerAddresses" ng-value="address.id" ng-selected="checkout.selectedCustomerAddressId == address.id" ng-bind="address.stringifiedAddress"></option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="field field--half field--required" ng-class="{ 'field--show-floating-label': checkout.payment.billingAddress.firstName.length, 'field--error': (formPaymentMethod.FirstName.$dirty || formPaymentMethod.$submitted) && formPaymentMethod.FirstName.$invalid }">
                                        <div class="field__input-wrapper">
                                            <label class="field__label" for="FirstName">Nome</label>
                                            <input class="field__input" id="FirstName" name="FirstName" placeholder="Nome" required="required" size="30" type="text" ng-model="checkout.payment.billingAddress.firstName" ng-disabled="checkout.orderProcessing" />
                                        </div>
                                        <p class="field__message field__message--error" ng-if="(formPaymentMethod.FirstName.$dirty || formPaymentMethod.$submitted) && formPaymentMethod.FirstName.$error.required">
                                            Favor informar seu nome
                                        </p>
                                    </div>
                                    <div class="field field--half field--required" ng-class="{ 'field--show-floating-label': checkout.payment.billingAddress.lastName.length, 'field--error': (formPaymentMethod.LastName.$dirty || formPaymentMethod.$submitted) && formPaymentMethod.LastName.$invalid }">
                                        <div class="field__input-wrapper">
                                            <label class="field__label" for="LastName">Sobrenome</label>
                                            <input class="field__input" id="LastName" name="LastName" placeholder="Sobrenome" required="required" size="30" type="text" ng-model="checkout.payment.billingAddress.lastName" ng-disabled="checkout.orderProcessing" />
                                        </div>
                                        <p class="field__message field__message--error" ng-if="(formPaymentMethod.LastName.$dirty || formPaymentMethod.$submitted) && formPaymentMethod.LastName.$error.required">
                                            Favor informar seu sobrenome
                                        </p>
                                    </div>
                                    <div class="field field--optional" ng-class="{ 'field--show-floating-label': checkout.payment.billingAddress.organization.length }">
                                        <div class="field__input-wrapper">
                                            <label class="field__label" for="Organization">Empresa (opcional)</label>
                                            <input class="field__input" id="Organization" name="Organization" placeholder="Empresa (opcional)" size="30" type="text" ng-model="checkout.payment.billingAddress.organization" ng-disabled="checkout.orderProcessing" />
                                        </div>
                                    </div>
                                    <div class="field field--two-thirds field--required" ng-class="{ 'field--show-floating-label': checkout.payment.billingAddress.line1.length, 'field--error': (formPaymentMethod.Line1.$dirty || formPaymentMethod.$submitted) && formPaymentMethod.Line1.$invalid }">
                                        <div class="field__input-wrapper">
                                            <label class="field__label" for="Line1">Endereço (Rua, número)</label>
                                            <input class="field__input" id="Line1" name="Line1" placeholder="Endereço (Rua, número)" required="required" size="30" type="text" ng-model="checkout.payment.billingAddress.line1" ng-disabled="checkout.orderProcessing" />
                                        </div>
                                        <p class="field__message field__message--error" ng-if="(formPaymentMethod.Line1.$dirty || formPaymentMethod.$submitted) && formPaymentMethod.Line1.$error.required">
                                            Favor informar seu endereço (Rua, número)
                                        </p>
                                    </div>
                                    <div class="field field--third field--optional" ng-class="{ 'field--show-floating-label': checkout.payment.billingAddress.line2.length }">
                                        <div class="field__input-wrapper">
                                            <label class="field__label" for="Line2">Complemento (opcional)</label>
                                            <input class="field__input" id="Line2" name="Line2" placeholder="Complemento (opcional)" size="30" type="text" ng-model="checkout.payment.billingAddress.Line2" ng-disabled="checkout.orderProcessing" />
                                        </div>
                                    </div>
                                    <div class="field field--required" ng-class="{ 'field--show-floating-label': checkout.payment.billingAddress.city.length, 'field--error': (formPaymentMethod.City.$dirty || formPaymentMethod.$submitted) && formPaymentMethod.City.$invalid }">
                                        <div class="field__input-wrapper">
                                            <label class="field__label" for="City">Cidade</label>
                                            <input class="field__input" id="City" name="City" placeholder="Cidade" required="required" size="30" type="text" ng-model="checkout.payment.billingAddress.city" ng-disabled="checkout.orderProcessing" />
                                        </div>
                                        <p class="field__message field__message--error" ng-if="(formPaymentMethod.City.$dirty || formPaymentMethod.$submitted) && formPaymentMethod.City.$error.required">
                                            Favor informar sua cidade
                                        </p>
                                    </div>
                                    <div class="field field--required field--show-floating-label" ng-class="{ 'field--three-eights': checkout.payment.billingAddress.countryName.length && checkout.countryRegions.length, 'field--half': !checkout.payment.billingAddress.countryName.length || !checkout.countryRegions.length, 'field--error': formPaymentMethod.$submitted && formPaymentMethod.CountryName.$invalid }">
                                        <div class="field__input-wrapper field__input-wrapper--select">
                                            <label class="field__label" for="CountryName">País</label>
                                            <select class="field__input field__input--select" id="CountryName" name="CountryName" required="required" size="1" ng-model="checkout.payment.billingAddress.countryName" ng-change="setCountry('Billing', checkout.payment.billingAddress.countryName)" ng-disabled="checkout.orderProcessing">
                                                <option disabled="disabled" value="">Selecione um país</option>
                                                <option ng-repeat="country in checkout.countries" ng-value="country.name" ng-bind="country.name" ng-selected="country.name == checkout.payment.billingAddress.countryName"></option>
                                            </select>
                                            <input id="CountryCode" name="CountryCode" type="hidden" ng-model="checkout.payment.billingAddress.countryCode" />
                                        </div>
                                        <p class="field__message field__message--error" ng-if="formPaymentMethod.$submitted && formPaymentMethod.CountryName.$error.required">
                                            Favor selecionar o país
                                        </p>
                                    </div>
                                    <div class="field field--three-eights field--required field--show-floating-label" ng-if="checkout.countryRegions.length && checkout.payment.billingAddress.countryName.length" ng-class="{ 'field--error': formPaymentMethod.$submitted && formPaymentMethod.RegionName.$invalid }">
                                        <div class="field__input-wrapper field__input-wrapper--select">
                                            <label class="field__label" for="RegionName" ng-bind="checkout.selectedCountry.regionType"></label>
                                            <select class="field__input field__input--select" id="RegionName" name="RegionName" placeholder="{% raw %}{{ checkout.selectedCountry.regionType }}{% endraw %}" required="required" size="1" ng-model="checkout.payment.billingAddress.regionName" ng-change="setCountryRegion('Billing', checkout.payment.billingAddress.regionName)" ng-disabled="checkout.orderProcessing">
                                                <option disabled="disabled" value="" ng-bind="'Select ' + checkout.selectedCountry.regionType"></option>
                                                <option ng-repeat="countryRegion in checkout.countryRegions" ng-value="countryRegion.name" ng-bind="countryRegion.name" ng-selected="countryRegion.name == checkout.payment.billingAddress.regionName"></option>
                                            </select>
                                            <input id="RegionId" name="RegionId" type="hidden" ng-model="checkout.payment.billingAddress.regionId" />
                                        </div>
                                        <p class="field__message field__message--error" ng-if="formPaymentMethod.$submitted && formPaymentMethod.RegionName.$error.required" ng-bind="'Please select your' + checkout.selectedCountry.regionType"></p>
                                    </div>
                                    <div class="field field--required" ng-class="{ 'field--half': !checkout.countryRegions.length || !checkout.payment.billingAddress.countryName.length, 'field--quarter': checkout.countryRegions.length && checkout.payment.billingAddress.countryName.length, 'field--show-floating-label': checkout.payment.billingAddress.postalCode.length, 'field--error': (formPaymentMethod.PostalCode.$dirty || formPaymentMethod.$submitted) && formPaymentMethod.PostalCode.$invalid }">
                                        <div class="field__input-wrapper">
                                            <label class="field__label" for="PostalCode">CEP</label>
                                            <input class="field__input" id="PostalCode" name="PostalCode" placeholder="CEP" required="required" size="30" type="text" ng-model="checkout.payment.billingAddress.postalCode" ng-disabled="checkout.orderProcessing" />
                                        </div>
                                        <p class="field__message field__message--error" ng-if="(formPaymentMethod.PostalCode.$dirty || formPaymentMethod.$submitted) && formPaymentMethod.PostalCode.$error.required">
                                            Favor informar o CEP
                                        </p>
                                    </div>
                                    <div class="field field--optional" ng-class="{ 'field--show-floating-label': checkout.payment.billingAddress.phone.length }">
                                        <div class="field__input-wrapper">
                                            <label class="field__label" for="Phone">Telefone (opcional)</label>
                                            <input class="field__input" id="Phone" name="Phone" placeholder="Telefone (opcional)" size="30" type="text" ng-model="checkout.payment.billingAddress.phone" ng-disabled="checkout.orderProcessing" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="step__footer">
                <button class="step__footer__continue-btn btn" name="button" type="button" ng-class="{ 'btn--loading': checkout.orderProcessing }" ng-click="submitOrder()" ng-disabled="checkout.orderProcessing">
                    <span class="btn__content">Criar pedido</span>
                    <i class="btn__spinner icon icon--button-spinner"></i>
                </button>
                <a class="step__footer__previous-link" href="" ng-click="innerRedirect('shipping-method')" ng-if="checkout.hasPhysicalProducts">
                    <svg class="previous-link__icon icon--chevron icon" height="11.3" width="6.7" viewBox="0 0 6.7 11.3" xmlns="http://www.w3.org/2000/svg">
                        <path d="M 6.7 1.1 l -1 -1.1 l -4.6 4.6 l -1.1 1.1 l 1.1 1 l 4.6 4.6 l 1 -1 l -4.6 -4.6 Z"></path>
                    </svg>
                    Retornar para modo de entrega
                </a>
                <a class="step__footer__previous-link" href="" ng-click="outerRedirect(baseUrl + 'cart')" ng-if="!checkout.hasPhysicalProducts">
                    <svg class="previous-link__icon icon--chevron icon" height="11.3" width="6.7" viewBox="0 0 6.7 11.3" xmlns="http://www.w3.org/2000/svg">
                        <path d="M 6.7 1.1 l -1 -1.1 l -4.6 4.6 l -1.1 1.1 l 1.1 1 l 4.6 4.6 l 1 -1 l -4.6 -4.6 Z"></path>
                    </svg>
                    Retornar para 
                    
                </a>
            </div>
        </div>
    </form>
</script>